#!/bin/bash
# Developer Agent Launcher for voice.artgenies.com
# This script shows task info - then you tell Obiwon to spawn it

if [ -z "$1" ]; then
    cat << 'EOF'
ðŸš€ DEVELOPER AGENT - voice.artgenies.com

USAGE:
  dev-agent "Your coding task here"

EXAMPLES:
  dev-agent "Add error logging to server.js"
  dev-agent "Update dashboard with cache hit rate chart"
  dev-agent "Create a /stats API endpoint for daily usage"
  dev-agent "Fix the voice recording timeout issue"

WORKSPACE:
  /Users/obiwon/.openclaw/agents/developer/workspace/

KEY FILES:
  ðŸ“„ server.js       - Node.js backend (port 3003)
  ðŸ“„ app.js          - Frontend voice handling
  ðŸ“„ index.html      - Main UI (glassmorphism)
  ðŸ“„ dashboard.html  - Stats & cost tracking
  ðŸ“„ package.json    - Dependencies

MODEL:
  ðŸ§  openrouter/pony-alpha (200K context, FREE)
  âš ï¸  All prompts logged by OpenRouter (don't use for secrets)

HOW TO USE:
  1. Type: dev-agent "your task description"
  2. Copy the generated task
  3. Tell Obiwon: "Spawn developer agent with this task"

The developer agent will:
  âœ… Work in the workspace directory
  âœ… Have access to all voice-agent files
  âœ… Write code following existing patterns
  âœ… Test changes when possible
  âœ… Report results back to you

EOF
    exit 0
fi

TASK="$1"
LABEL="dev-$(date +%s)"

echo "==================================================================="
echo "ðŸš€ DEVELOPER AGENT TASK"
echo "==================================================================="
echo ""
echo "Task: $TASK"
echo "Label: $LABEL"
echo "Model: openrouter/pony-alpha"
echo ""
echo "Tell Obiwon to run:"
echo ""
echo "sessions_spawn --task 'You are a specialist developer working on voice.artgenies.com. TASK: $TASK. Work in /Users/obiwon/.openclaw/agents/developer/workspace/ with files server.js, app.js, index.html, dashboard.html. Follow existing patterns, write clean code, test changes, do NOT access .env files or expose secrets.' --model openrouter/pony-alpha --label $LABEL"
echo ""
echo "==================================================================="
